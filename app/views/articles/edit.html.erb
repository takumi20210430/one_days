<%= render 'devise/shared/error_messages', resource: @article %>
<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-5 px-sm-0 mx-auto">
      <h1>記事編集</h1>
      <%= form_with model:@article, local: true do |f| %>
        <div cass="form">
          <div class="form-group">
            <label for="article title">
              タイトル
              <em>必須</em>
            </label>（３０文字以内）<br />
            <%= f.text_field :title %>
          </div>
          <h4>写真を選択する</h4>
          <div class="form-group">
            <%= attachment_image_tag(@article, :image1, :fill,100,100, fallback: "no_image.jpg",size:"100x100",id:"preview_0") %>
            <%= f.attachment_field :image1 %>
            <script>
              $('#article_image1').on('change', function (e) {
                var reader = new FileReader();
                reader.onload = function (e) {
                  $("#preview_0").attr('src', e.target.result);
                }
                reader.readAsDataURL(e.target.files[0]);
              });
            </script>
          </div>
          <div class="form-group">
            <%= attachment_image_tag(@article, :image2, :fill,100,100, fallback: "no_image.jpg",size:"100x100",id:"preview_1") %>
            <%= f.attachment_field :image2 %>
            <script>
              $('#article_image2').on('change', function (e) {
                var reader = new FileReader();
                reader.onload = function (e) {
                  $("#preview_1").attr('src', e.target.result);
                }
                reader.readAsDataURL(e.target.files[0]);
              });
            </script>
          </div>
          <div class="form-group">
            <%= attachment_image_tag(@article, :image3, :fill,100,100, fallback: "no_image.jpg",size:"100x100",id:"preview_2") %>
            <%= f.attachment_field :image3 %>
            <script>
              $('#article_image3').on('change', function (e) {
                var reader = new FileReader();
                reader.onload = function (e) {
                  $("#preview_2").attr('src', e.target.result);
                }
                reader.readAsDataURL(e.target.files[0]);
              });
            </script>
          </div>
          <div class="form-group">
            <%= attachment_image_tag(@article, :image4, :fill,100,100, fallback: "no_image.jpg",size:"100x100",id:"preview_3") %>
            <%= f.attachment_field :image4 %>
            <script>
              $('#article_image4').on('change', function (e) {
                var reader = new FileReader();
                reader.onload = function (e) {
                  $("#preview_3").attr('src', e.target.result);
                }
                reader.readAsDataURL(e.target.files[0]);
              });
            </script>
          </div>
          <div class="form-group">
            <%= attachment_image_tag(@article, :image5, :fill,100,100, fallback: "no_image.jpg",size:"100x100",id:"preview_4") %>
            <%= f.attachment_field :image5 %>
            <script>
              $('#article_image5').on('change', function (e) {
                var reader = new FileReader();
                reader.onload = function (e) {
                  $("#preview_4").attr('src', e.target.result);
                }
                reader.readAsDataURL(e.target.files[0]);
              });
            </script>
          </div>
          <div class="form-group">
            <label for="article body">
              投稿内容
              <em>必須</em>
            </label>（１０００文字以内）
            <%= f.text_area :body %>
          </div>
          <div class="form-group">
            <%= f.submit '更新する' %><br />
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>