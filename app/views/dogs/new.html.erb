<%= render 'dog_error', dog: @dog %>
<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-5 px-sm-0 mx-auto">
      <h2 class="mt-3">愛犬の追加</h2>
      <%= form_with model: @dog, local:true do |f| %>
        <div class="form-group">
          <label for="dog_name">
            名前
            <em>必須</em>
          </lebel>（１５文字以内）
          <br><%= f.text_field :name, class: "col-md-12" %></br>
        </div>
        <div class="form-group">
          <label for="dog_name">年齢</lebel>
          <br><%= f.select :age, Dog.ages.keys %></br>
        </div>
        <div class="form-group">
          <label for="dog_type_id">犬種</lebel>
          <br><%= f.select :dog_type_id, Dog.dog_type_ids.keys %></br>
        </div>
        <div class="form-group">
          <label for="dog_skill">特技</lebel>（１５文字以内）
          <br><%= f.text_field :skill, class: "col-md-12" %></br>
        </div>
        <div class="form-group">
          <label for="dog_favorite">お気に入り</lebel>（１５文字以内）
          <br><%= f.text_field :favorite, class: "col-md-12" %></br>
        </div>
        <h4>犬のプロフィール写真を選択する</h4>
        <div class="form-group">
          <img id="preview_0" style="width:30%;">
          <%= f.attachment_field :image1 %>
          <script>
            $('#dog_image1').on('change', function (e) {
              var reader = new FileReader();
              reader.onload = function (e) {
                $("#preview_0").attr('src', e.target.result);
              }
              reader.readAsDataURL(e.target.files[0]);
            });
          </script>
        </div>
        <div class="form-group">
          <img id="preview_1" style="width:30%;">
          <%= f.attachment_field :image2 %>
          <script>
            $('#dog_image2').on('change', function (e) {
              var reader = new FileReader();
              reader.onload = function (e) {
                $("#preview_1").attr('src', e.target.result);
              }
              reader.readAsDataURL(e.target.files[0]);
            });
          </script>
        </div>
        <div class="form-group">
          <img id="preview_2" style="width:30%;">
          <%= f.attachment_field :image3 %>
          <script>
            $('#dog_image3').on('change', function (e) {
              var reader = new FileReader();
              reader.onload = function (e) {
                $("#preview_2").attr('src', e.target.result);
              }
              reader.readAsDataURL(e.target.files[0]);
            });
          </script>
        </div>
        <div class="form-group">
          <label for="dog_introduction">紹介</label>（１５０文字以内）
          <br><%= f.text_area :introduction, size: '90x5', class: "col-md-12"%></br>
        </div>
        <div class="form-group">
          <br><%= f.submit '犬を登録する' %></br>
        </div>
      <% end %>
    </div>
  </div>
</div>